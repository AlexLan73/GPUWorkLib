# üì¶ –ò—Ç–æ–≥–æ–≤–∞—è —Å–≤–æ–¥–∫–∞: DrvGPU Compute Modules

## ‚úÖ –ß—Ç–æ —Å–æ–∑–¥–∞–Ω–æ

**–í—Å–µ–≥–æ —Ñ–∞–π–ª–æ–≤:** 10  
**–í—Å–µ–≥–æ —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞:** ~1857

### üìÅ –§–∞–π–ª—ã:

1. **modules-CMakeLists.txt** (57 —Å—Ç—Ä–æ–∫)
   - –ì–ª–∞–≤–Ω—ã–π CMake –¥–ª—è –º–æ–¥—É–ª–µ–π
   - –û–ø—Ü–∏–∏ –≤–∫–ª—é—á–µ–Ω–∏—è/–≤—ã–∫–ª—é—á–µ–Ω–∏—è

2. **vector_ops-CMakeLists.txt** (95 —Å—Ç—Ä–æ–∫)
   - CMake –º–æ–¥—É–ª—è VectorOps
   - –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ OpenCL kernels

3. **vector_ops.cl** (152 —Å—Ç—Ä–æ–∫–∏)
   - 6 OpenCL kernels –¥–ª—è GPU
   - In-place –∏ out-of-place –≤–∞—Ä–∏–∞–Ω—Ç—ã

4. **vector_ops_module.hpp** (255 —Å—Ç—Ä–æ–∫)
   - –ó–∞–≥–æ–ª–æ–≤–æ–∫ –º–æ–¥—É–ª—è
   - –†–µ–∞–ª–∏–∑—É–µ—Ç IComputeModule

5. **vector_ops_module-part1.cpp** (—á–∞—Å—Ç—å 1)
   - –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä, Initialize
   - AddOne –æ–ø–µ—Ä–∞—Ü–∏–∏

6. **vector_ops_module-part2.cpp** (—á–∞—Å—Ç—å 2)
   - SubOne –æ–ø–µ—Ä–∞—Ü–∏–∏
   - AddVectors –æ–ø–µ—Ä–∞—Ü–∏–∏
   - CompileKernels

7. **vector_ops_module-part3.cpp** (—á–∞—Å—Ç—å 3)
   - CreateKernelObjects
   - ReleaseKernels
   - LoadKernelSource

8. **test_vector_ops.cpp** (229 —Å—Ç—Ä–æ–∫)
   - –¢–µ—Å—Ç–æ–≤—ã–π –ø—Ä–∏–º–µ—Ä
   - –í—Å–µ 6 –æ–ø–µ—Ä–∞—Ü–∏–π

9. **modules-README.md**
   - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –º–æ–¥—É–ª–µ–π
   - –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

10. **INTEGRATION-GUIDE.md**
    - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
    - –ß–µ–∫–ª–∏—Å—Ç

## üéØ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

### 6 –≤–µ–∫—Ç–æ—Ä–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π:

1. **AddOneOut** - C[] = A[] + 1 (out-of-place)
2. **AddOneInPlace** - A[] = A[] + 1 (in-place)
3. **SubOneOut** - C[] = A[] - 1 (out-of-place)
4. **SubOneInPlace** - A[] = A[] - 1 (in-place)
5. **AddVectorsOut** - C[] = A[] + B[] (out-of-place)
6. **AddVectorsInPlace** - A[] = A[] + B[] (in-place)

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
DrvGPU
  ‚îú‚îÄ ModuleRegistry
  ‚îÇ   ‚îî‚îÄ VectorOpsModule (IComputeModule)
  ‚îÇ       ‚îú‚îÄ 6 OpenCL Kernels
  ‚îÇ       ‚îî‚îÄ 6 Public Operations
  ‚îî‚îÄ MemoryManager
      ‚îî‚îÄ GPUBuffer<T>
```

## üìä –¢–µ—Å—Ç–æ–≤—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π

```
–í–µ–∫—Ç–æ—Ä A[] = [0, 1, 2, ..., 1023]

1. C1[] = A[] + 1        ‚Üí [1, 2, 3, ...]
2. C2[] = A[] - 1        ‚Üí [-1, 0, 1, ...]
3. A[] = A[] + 1         ‚Üí [1, 2, 3, ...]
4. A[] = A[] - 1         ‚Üí [0, 1, 2, ...] (–≤–µ—Ä–Ω—É–ª–æ—Å—å)
5. C3[] = C1[] + C2[]    ‚Üí [0, 2, 4, ...]
6. C1[] = C1[] + C2[]    ‚Üí [0, 2, 4, ...]
```

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:

```bash
# 1. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–π–ª—ã
mkdir -p project/modules/vector_ops/{include,src,kernels}

# 2. –î–æ–±–∞–≤–∏—Ç—å –≤ CMakeLists.txt
add_subdirectory(modules)

# 3. –°–æ–±—Ä–∞—Ç—å
cmake -DDRVGPU_BUILD_MODULES=ON ..
make
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:

```cpp
// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
DrvGPU gpu(BackendType::OPENCL, 0);
gpu.Initialize();

// –°–æ–∑–¥–∞–Ω–∏–µ –º–æ–¥—É–ª—è
auto module = std::make_shared<VectorOpsModule>(&gpu.GetBackend());
module->Initialize();

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
auto A = mem.CreateBuffer<float>(1024);
auto C = mem.CreateBuffer<float>(1024);
module->AddOneOut(A, C, 1024);
```

## ‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

‚úÖ **–ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å** - –æ—Ç–¥–µ–ª—å–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏  
‚úÖ **CMake –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** - –æ–ø—Ü–∏–∏ ON/OFF  
‚úÖ **IComputeModule** - –µ–¥–∏–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å  
‚úÖ **RAII** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞  
‚úÖ **Backend-–∞–≥–Ω–æ—Å—Ç–∏—á–Ω–æ—Å—Ç—å** - —á–µ—Ä–µ–∑ IBackend  
‚úÖ **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** - –ø–æ–ª–Ω–∞—è —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏  

## üìù –ß–µ–∫–ª–∏—Å—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

- [ ] –°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω—ã –≤—Å–µ 10 —Ñ–∞–π–ª–æ–≤
- [ ] –û–±–Ω–æ–≤–ª—ë–Ω –≥–ª–∞–≤–Ω—ã–π CMakeLists.txt
- [ ] CMake –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–æ—Ö–æ–¥–∏—Ç
- [ ] –ú–æ–¥—É–ª—å vector_ops —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è
- [ ] –¢–µ—Å—Ç test_vector_ops –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
- [ ] –í—Å–µ 6 –æ–ø–µ—Ä–∞—Ü–∏–π —Ä–∞–±–æ—Ç–∞—é—Ç

## üéâ –ì–æ—Ç–æ–≤–æ!

**–ü–æ–ª–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è –º–æ–¥—É–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã –≥–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!**

---

**–ê–≤—Ç–æ—Ä:** DrvGPU Team  
**–î–∞—Ç–∞:** 2026-02-03  
**–í–µ—Ä—Å–∏—è:** 1.0.0
